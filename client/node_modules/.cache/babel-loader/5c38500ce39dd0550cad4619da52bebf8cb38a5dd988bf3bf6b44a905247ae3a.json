{"ast":null,"code":"import httpClient from \"./httpClient\";\nimport snackBarStore from \"../components/common/Snackbar/store/snackBarStore\";\nexport const signup = async (payload, redirectTo) => {\n  try {\n    const {\n      data\n    } = await httpClient.post(\"user\", payload);\n    storeAccessTokenToLocal(data.accessToken);\n    storeRefreshTokenToLocal(data.refreshToken);\n    redirectTo(\"/dashboard\");\n    snackBarStore.showSnackBar(\"Signup success\", \"success\");\n  } catch (error) {\n    snackBarStore.showSnackBar(`Problem in Singup: ${error.response.data}`, \"error\");\n    console.log(error);\n  }\n};\nexport const login = async (payload, redirectTo) => {\n  try {\n    const {\n      data\n    } = await httpClient.post(\"user/login\", payload);\n    storeAccessTokenToLocal(data.accessToken);\n    storeRefreshTokenToLocal(data.refreshToken);\n    redirectTo(\"/dashboard\");\n    snackBarStore.showSnackBar(\"Login success\", \"success\");\n  } catch (error) {\n    snackBarStore.showSnackBar(`Problem in login: ${error.response.data}`, \"error\");\n    console.log(error);\n  }\n};\nexport const forgotPassword = async email => {\n  try {\n    await httpClient.post(\"auth/forgot-password\", {\n      email\n    });\n    snackBarStore.showSnackBar(\"Instruction sent successfully\", \"success\");\n    return true;\n  } catch (error) {\n    snackBarStore.showSnackBar(`Problem: ${error.response.data}`, \"error\");\n    console.log(error);\n    return false;\n  }\n};\nexport const verifyToken = async token => {\n  try {\n    await httpClient.post(\"auth/verify-token\", {\n      token\n    });\n    return true;\n  } catch (error) {\n    snackBarStore.showSnackBar(`Problem: ${error.response.data}`, \"error\");\n    console.log(error);\n    return false;\n  }\n};\nexport const resetPassword = async (token, password) => {\n  try {\n    await httpClient.post(\"auth/reset-password\", {\n      token,\n      password\n    });\n    snackBarStore.showSnackBar(\"Reset successfully\", \"success\");\n    return true;\n  } catch (error) {\n    snackBarStore.showSnackBar(`Prblem: ${error.response.data}`, \"error\");\n    console.log(error);\n    return false;\n  }\n};\nexport const handleRefreshToken = async () => {\n  try {\n    const {\n      data\n    } = await httpClient.get(\"auth/refresh-token\");\n    storeAccessTokenToLocal(data.accessToken);\n    storeRefreshTokenToLocal(data.refreshToken);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const logout = redirectTo => {\n  localStorage.removeItem(\"accessToken\");\n  localStorage.removeItem(\"refreshToken\");\n  redirectTo(\"/login\");\n};\nconst storeAccessTokenToLocal = accessToken => localStorage.setItem(\"accessToken\", accessToken);\nconst storeRefreshTokenToLocal = refreshToken => localStorage.setItem(\"refreshToken\", refreshToken);","map":{"version":3,"names":["httpClient","snackBarStore","signup","payload","redirectTo","data","post","storeAccessTokenToLocal","accessToken","storeRefreshTokenToLocal","refreshToken","showSnackBar","error","response","console","log","login","forgotPassword","email","verifyToken","token","resetPassword","password","handleRefreshToken","get","logout","localStorage","removeItem","setItem"],"sources":["C:/Users/rushi/Desktop/meanstackproject2/easy-link-app/client/src/Services/authServices.ts"],"sourcesContent":["import httpClient from \"./httpClient\";\r\n\r\nimport { UserLoginPayloadType, UserRegisterPayloadType } from \"../types\";\r\nimport { NavigateFunction } from \"react-router-dom\";\r\nimport snackBarStore from \"../components/common/Snackbar/store/snackBarStore\";\r\nexport const signup = async (\r\n  payload: UserRegisterPayloadType,\r\n  redirectTo: NavigateFunction\r\n) => {\r\n  try {\r\n    const { data } = await httpClient.post(\"user\", payload);\r\n    storeAccessTokenToLocal(data.accessToken);\r\n    storeRefreshTokenToLocal(data.refreshToken);\r\n    redirectTo(\"/dashboard\");\r\n    snackBarStore.showSnackBar(\"Signup success\", \"success\");\r\n  } catch (error: any) {\r\n    snackBarStore.showSnackBar(\r\n      `Problem in Singup: ${error.response.data}`,\r\n      \"error\"\r\n    );\r\n\r\n    console.log(error);\r\n  }\r\n};\r\nexport const login = async (\r\n  payload: UserLoginPayloadType,\r\n  redirectTo: NavigateFunction\r\n) => {\r\n  try {\r\n    const { data } = await httpClient.post(\"user/login\", payload);\r\n    storeAccessTokenToLocal(data.accessToken);\r\n    storeRefreshTokenToLocal(data.refreshToken);\r\n    redirectTo(\"/dashboard\");\r\n    snackBarStore.showSnackBar(\"Login success\", \"success\");\r\n  } catch (error: any) {\r\n    snackBarStore.showSnackBar(\r\n      `Problem in login: ${error.response.data}`,\r\n      \"error\"\r\n    );\r\n\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const forgotPassword = async (email: string): Promise<boolean> => {\r\n  try {\r\n    await httpClient.post(\"auth/forgot-password\", { email });\r\n    snackBarStore.showSnackBar(\"Instruction sent successfully\", \"success\");\r\n    return true;\r\n  } catch (error: any) {\r\n    snackBarStore.showSnackBar(`Problem: ${error.response.data}`, \"error\");\r\n\r\n    console.log(error);\r\n    return false;\r\n  }\r\n};\r\nexport const verifyToken = async (token: string): Promise<boolean> => {\r\n  try {\r\n    await httpClient.post(\"auth/verify-token\", { token });\r\n    return true;\r\n  } catch (error: any) {\r\n    snackBarStore.showSnackBar(`Problem: ${error.response.data}`, \"error\");\r\n\r\n    console.log(error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const resetPassword = async (\r\n  token: string,\r\n  password: string\r\n): Promise<boolean> => {\r\n  try {\r\n    await httpClient.post(\"auth/reset-password\", { token, password });\r\n    snackBarStore.showSnackBar(\"Reset successfully\", \"success\");\r\n    return true;\r\n  } catch (error: any) {\r\n    snackBarStore.showSnackBar(`Prblem: ${error.response.data}`, \"error\");\r\n\r\n    console.log(error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const handleRefreshToken = async () => {\r\n  try {\r\n    const { data } = await httpClient.get(\"auth/refresh-token\");\r\n    storeAccessTokenToLocal(data.accessToken);\r\n    storeRefreshTokenToLocal(data.refreshToken);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const logout = (redirectTo: NavigateFunction) => {\r\n  localStorage.removeItem(\"accessToken\");\r\n  localStorage.removeItem(\"refreshToken\");\r\n\r\n  redirectTo(\"/login\");\r\n};\r\n\r\nconst storeAccessTokenToLocal = (accessToken: string): void =>\r\n  localStorage.setItem(\"accessToken\", accessToken);\r\nconst storeRefreshTokenToLocal = (refreshToken: string): void =>\r\n  localStorage.setItem(\"refreshToken\", refreshToken);\r\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,cAAc;AAIrC,OAAOC,aAAa,MAAM,mDAAmD;AAC7E,OAAO,MAAMC,MAAM,GAAG,OACpBC,OAAgC,EAChCC,UAA4B,KACzB;EACH,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,UAAU,CAACM,IAAI,CAAC,MAAM,EAAEH,OAAO,CAAC;IACvDI,uBAAuB,CAACF,IAAI,CAACG,WAAW,CAAC;IACzCC,wBAAwB,CAACJ,IAAI,CAACK,YAAY,CAAC;IAC3CN,UAAU,CAAC,YAAY,CAAC;IACxBH,aAAa,CAACU,YAAY,CAAC,gBAAgB,EAAE,SAAS,CAAC;EACzD,CAAC,CAAC,OAAOC,KAAU,EAAE;IACnBX,aAAa,CAACU,YAAY,CACvB,sBAAqBC,KAAK,CAACC,QAAQ,CAACR,IAAK,EAAC,EAC3C,OAAO,CACR;IAEDS,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;EACpB;AACF,CAAC;AACD,OAAO,MAAMI,KAAK,GAAG,OACnBb,OAA6B,EAC7BC,UAA4B,KACzB;EACH,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,UAAU,CAACM,IAAI,CAAC,YAAY,EAAEH,OAAO,CAAC;IAC7DI,uBAAuB,CAACF,IAAI,CAACG,WAAW,CAAC;IACzCC,wBAAwB,CAACJ,IAAI,CAACK,YAAY,CAAC;IAC3CN,UAAU,CAAC,YAAY,CAAC;IACxBH,aAAa,CAACU,YAAY,CAAC,eAAe,EAAE,SAAS,CAAC;EACxD,CAAC,CAAC,OAAOC,KAAU,EAAE;IACnBX,aAAa,CAACU,YAAY,CACvB,qBAAoBC,KAAK,CAACC,QAAQ,CAACR,IAAK,EAAC,EAC1C,OAAO,CACR;IAEDS,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMK,cAAc,GAAG,MAAOC,KAAa,IAAuB;EACvE,IAAI;IACF,MAAMlB,UAAU,CAACM,IAAI,CAAC,sBAAsB,EAAE;MAAEY;IAAM,CAAC,CAAC;IACxDjB,aAAa,CAACU,YAAY,CAAC,+BAA+B,EAAE,SAAS,CAAC;IACtE,OAAO,IAAI;EACb,CAAC,CAAC,OAAOC,KAAU,EAAE;IACnBX,aAAa,CAACU,YAAY,CAAE,YAAWC,KAAK,CAACC,QAAQ,CAACR,IAAK,EAAC,EAAE,OAAO,CAAC;IAEtES,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IAClB,OAAO,KAAK;EACd;AACF,CAAC;AACD,OAAO,MAAMO,WAAW,GAAG,MAAOC,KAAa,IAAuB;EACpE,IAAI;IACF,MAAMpB,UAAU,CAACM,IAAI,CAAC,mBAAmB,EAAE;MAAEc;IAAM,CAAC,CAAC;IACrD,OAAO,IAAI;EACb,CAAC,CAAC,OAAOR,KAAU,EAAE;IACnBX,aAAa,CAACU,YAAY,CAAE,YAAWC,KAAK,CAACC,QAAQ,CAACR,IAAK,EAAC,EAAE,OAAO,CAAC;IAEtES,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IAClB,OAAO,KAAK;EACd;AACF,CAAC;AAED,OAAO,MAAMS,aAAa,GAAG,OAC3BD,KAAa,EACbE,QAAgB,KACK;EACrB,IAAI;IACF,MAAMtB,UAAU,CAACM,IAAI,CAAC,qBAAqB,EAAE;MAAEc,KAAK;MAAEE;IAAS,CAAC,CAAC;IACjErB,aAAa,CAACU,YAAY,CAAC,oBAAoB,EAAE,SAAS,CAAC;IAC3D,OAAO,IAAI;EACb,CAAC,CAAC,OAAOC,KAAU,EAAE;IACnBX,aAAa,CAACU,YAAY,CAAE,WAAUC,KAAK,CAACC,QAAQ,CAACR,IAAK,EAAC,EAAE,OAAO,CAAC;IAErES,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;IAClB,OAAO,KAAK;EACd;AACF,CAAC;AAED,OAAO,MAAMW,kBAAkB,GAAG,YAAY;EAC5C,IAAI;IACF,MAAM;MAAElB;IAAK,CAAC,GAAG,MAAML,UAAU,CAACwB,GAAG,CAAC,oBAAoB,CAAC;IAC3DjB,uBAAuB,CAACF,IAAI,CAACG,WAAW,CAAC;IACzCC,wBAAwB,CAACJ,IAAI,CAACK,YAAY,CAAC;EAC7C,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMa,MAAM,GAAIrB,UAA4B,IAAK;EACtDsB,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;EACtCD,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;EAEvCvB,UAAU,CAAC,QAAQ,CAAC;AACtB,CAAC;AAED,MAAMG,uBAAuB,GAAIC,WAAmB,IAClDkB,YAAY,CAACE,OAAO,CAAC,aAAa,EAAEpB,WAAW,CAAC;AAClD,MAAMC,wBAAwB,GAAIC,YAAoB,IACpDgB,YAAY,CAACE,OAAO,CAAC,cAAc,EAAElB,YAAY,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}